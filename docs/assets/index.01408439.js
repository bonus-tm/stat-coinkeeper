var He=Object.defineProperty;var me=Object.getOwnPropertySymbols;var Le=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable;var ge=(a,e,o)=>e in a?He(a,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[e]=o,oe=(a,e)=>{for(var o in e||(e={}))Le.call(e,o)&&ge(a,o,e[o]);if(me)for(var o of me(e))Me.call(e,o)&&ge(a,o,e[o]);return a};import{r as L,a as re,l as R,w as Ee,t as ne,b as J,i as Oe,c as Re,f as T,e as ze,d as Ne,g as Ue,h as Be,j as Te,k as Fe,m as k,o as p,n as f,F as _,p as H,q as d,s as G,u as U,v as X,x as Z,y as v,z as F,A as $,B as je,C as Ye,D as j,E as C,G as le,H as Pe,I as qe,J as Y,K as Ke,L as Je,M as Ge,N as Xe,O as Ze,P as Qe,Q as We,R as et,S as tt,T as at,U as ot,V as rt,W as nt,X as lt,Y as st,Z as it,_ as ct,$ as dt,a0 as ut}from"./vendor.70504ef0.js";const pt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(r){if(r.ep)return;r.ep=!0;const l=o(r);fetch(r.href,l)}};pt();const ye="sck-config",se="sck-data";var h={palette:["#cccccc","#ff3b30","#ff9500","#ffcc00","#34c759","#5ac8fa","#007aff","#5856d6","#af52de","#000000"],dragging:L(!1),_defaultState:{baseCurrency:"RUB",heaps:{accounts:[{type:"accounts",title:"\u0411\u0435\u0437\u043D\u0430\u043B",color:{bg:"#007aff",border:"#007aff"},coins:[]},{type:"accounts",title:"\u041D\u0430\u043B\u0438\u0447\u043A\u0430",color:{bg:"#5ac8fa",border:"#5ac8fa"},coins:[]},{type:"accounts",title:"\u0412\u0430\u043B\u044E\u0442\u0430",color:{bg:"#34c759",border:"#34c759"},coins:[]}],allIncomesVsExpenses:[{type:"operations",title:"\u0412\u0441\u0435 \u0434\u043E\u0445\u043E\u0434\u044B",color:{bg:"#0491d1",border:"#0491d1"},coins:[]},{type:"operations",title:"\u0412\u0441\u0435 \u0440\u0430\u0441\u0445\u043E\u0434\u044B",color:{bg:"#e53935",border:"#e53935"},coins:[]}],incomes:[{type:"operations",title:"\u041F\u0435\u0440\u0432\u0430\u044F \u043A\u0443\u0447\u0430 \u0434\u043E\u0445\u043E\u0434\u043E\u0432",color:{bg:"#0491d1",border:"#0491d1"},coins:[]},{type:"operations",title:"\u0412\u0442\u043E\u0440\u0430\u044F \u043A\u0443\u0447\u0430 \u0434\u043E\u0445\u043E\u0434\u043E\u0432",color:{bg:"#ffcc00",border:"#ffcc00"},coins:[]}],expenses:[{type:"operations",title:"\u041F\u043E\u0441\u0442\u043E\u044F\u043D\u043D\u044B\u0435 \u0440\u0430\u0441\u0445\u043E\u0434\u044B",color:{bg:"#e53935",border:"#e53935"},coins:[]},{type:"operations",title:"\u0420\u0435\u0434\u043A\u0438\u0435",color:{bg:"#ff9500",border:"#ff9500"},coins:[]}]}},state:re({}),readonly:{},hasData:L(!1),async init(){console.log("init");let a;try{a=await R.getItem(ye),console.log("initial",a)}catch(e){console.log({e})}a?this.state=re(oe({},a)):this.state=re(oe({},this._defaultState)),Ee(()=>this.state,async e=>{console.log("state change observed",e),await R.setItem(ye,ne(e))},{deep:!0});try{this.readonly=await R.getItem(se),this.readonly?this.hasData.value=!0:this.readonly={},console.log("initial readonly user data",this.hasData.value,this.readonly)}catch(e){console.log({e})}},async setReadonly({timestamp:a,data:e}){var o,t,r,l,s,n,u,c;this.readonly.timestamp=a,this.readonly.operations=e.operations,this.readonly.incomes=e.incomes,this.readonly.accounts=e.accounts,this.readonly.expenses=e.expenses,this.readonly.tags=e.tags,this.updateCoins([...e.accounts,...e.incomes,...e.expenses]),((l=(r=(t=(o=this.state.heaps)==null?void 0:o.allIncomesVsExpenses)==null?void 0:t[0])==null?void 0:r.coins)==null?void 0:l.length)===0&&((c=(u=(n=(s=this.state.heaps)==null?void 0:s.allIncomesVsExpenses)==null?void 0:n[1])==null?void 0:u.coins)==null?void 0:c.length)===0&&this.fillDefaultHeaps(e.incomes,e.expenses),await R.setItem(se,this.readonly),this.hasData.value=!0},updateCoins(a){for(let e of Object.keys(this.state.heaps))this.state.heaps[e].forEach(o=>{o.coins||(o.coins=[]),o.coins.forEach((t,r)=>{o.coins[r]=a.find(l=>l.type===t.type&&l.id===t.id)})})},fillDefaultHeaps(a,e){this.state.heaps.allIncomesVsExpenses[0].coins=[...a],this.state.heaps.allIncomesVsExpenses[1].coins=[...e]},async clearReadonly(){this.readonly.timestamp=null,this.readonly.operations=null,this.readonly.incomes=null,this.readonly.accounts=null,this.readonly.expenses=null,this.readonly.tags=null,await R.removeItem(se),this.hasData.value=!1}},_e=async(a,e={})=>{let o=Object.entries(e).map(([t,r])=>Array.isArray(r)?`${t}=${r.join(",")}`:`${t}=${r}`).join("&");try{return(await fetch(`${a}?${o}`)).json()}catch(t){return{success:!1,error:t}}};const be="currencies",ve="https://api.exchangerate.host",ht=new Date(2019,0,1),ie="yyyy-MM-dd",Ce="yyyy-MM";var P={_base:"",_currencies:{},loaded:!1,async init(a="RUB",e=["USD","EUR"]){var r,l,s;await this._restore(),this._base!==a&&(this._base=a,J.exports.merge(this._currencies,await this._loadLatest(a,e),await this._loadHistory(a,e)));let o=Object.keys(this._currencies),t=e.filter(n=>!o.includes(n));t.length&&J.exports.merge(this._currencies,await this._loadLatest(a,t),await this._loadHistory(a,t));for(let[n,{updatedAt:u,history:c={}}]of Object.entries(this._currencies)){Oe(new Date(u))||J.exports.merge(this._currencies,await this._loadLatest(a,[n]));let i=new Date(Object.keys(c).sort().reverse()[0]);Re(i)||J.exports.merge(this._currencies,await this._loadHistory(a,[n],i)),(s=(r=this._currencies[n].history)[l=T(new Date,Ce)])!=null||(r[l]=this._currencies[n].latest)}console.log("currencies init",this._currencies),await this._save(),this.loaded=!0},rate(a,e){var o;return e?(o=this._currencies[a])==null?void 0:o.history[e]:this._currencies[a].latest},_save(){return R.setItem(be,{base:this._base,currencies:this._currencies})},async _restore(){let{base:a="",currencies:e={}}=await R.getItem(be)||{};this._base=a,this._currencies=e},async _loadLatest(a,e){let o={},t=await _e(ve+"/latest",{base:a,symbols:e});return t.success?e.filter(r=>t.rates[r]).forEach(r=>{o[r]={latest:t.rates[r],updatedAt:Date.now()}}):console.warn("load latest problem:",t),o},async _loadHistory(a,e,o=ht){let t={};for(let l of e)t[l]={history:{}};let r=new Date;for(let l of ze({start:o,end:r})){let s=l,n=Ne(l)?r:Ue(l),u=await _e(ve+"/timeseries",{base:a,symbols:e,start_date:T(s,ie),end_date:T(n,ie)});if(!u.success)console.warn("load history problem:",u);else{let c=Be({start:s,end:n});for(let i of c){let b=u.rates[T(Te(i),ie)]||{};for(let S of e)t[S].history[T(i,Ce)]=b[S]}}}return t}};const O=10**3,M=10**6,I=a=>{if(isNaN(a))return"";let e=a<0?"\u2013":"",o=Math.abs(a),t="";return o>=M*10?o=(Math.round(o*100/M)/100).toString():o>=M?o=(Math.round(o*1e3/M)/1e3).toString():o>=100*O?o=Math.round(o/O).toString():o>=O?o=(Math.round(o*10/O)/10).toString():o=o.toString(),`${e}${o.replace(".",",")}${t}`},ft=(a,e=" ")=>{if(isNaN(a))return"";let o=a<0?"\u2013":"",t=Math.abs(a),r="",l="",s="";return t>=M&&(r=Math.floor(t/M)),t>=O&&(l=Math.floor((t-r*M)/O)),t>=M&&(l=l.toString().padStart(3,"0")),s=t-r*M-l*O,t>=O&&(s=s.toString().padStart(3,"0")),`${o}${r}${r?e:""}${l}${l?e:""}${s}`},B=(a,e=1)=>{if(!a)return`rgba(128,128,128,${e})`;let[,o,t,r,l,s,n]=a.split(""),u=parseInt(`${o}${t}`,16),c=parseInt(`${r}${l}`,16),i=parseInt(`${s}${n}`,16);return`rgba(${u},${c},${i},${e})`};var V=(a,e)=>{const o=a.__vccOpts||a;for(const[t,r]of e)o[t]=r;return o};const mt={name:"ChartPie",props:{data:{type:Array,required:!0},fieldColor:{type:String,default:"color"},fieldTitle:{type:String,default:"title"},fieldValue:{type:String,default:"value"}},setup(a){let{data:e,fieldColor:o,fieldTitle:t,fieldValue:r}=Fe(a),l=k(()=>e.value.reduce((u,c)=>(u+=c[r.value],u),0));const s=(u,c=0)=>Number.isNaN(u)?0:Math.round(u*10**c)/10**c;let n=k(()=>{let u=0;return e.value.sort((c,i)=>i.value-c.value).map(c=>{let i=s(100*c[r.value]/l.value,2),b={offset:u,percent:i,value:c[r.value],title:c[t.value],color:c[o.value]};return u+=b.percent,u===100&&i>0&&(b.percent+=1),b})});return{palette:h.palette,totalValue:l,sectors:n,round:s,format:ft}}},gt={class:"pie-container"},yt={viewBox:"0 0 64 64",class:"pie"},_t=["stroke","stroke-dasharray","stroke-dashoffset"],bt={class:"pie-legend"},vt={class:"pie-legend-value"},Ct={class:"pie-legend-value"},kt=d("span",{style:{"margin-left":"1.5px"}},"\u20BD",-1);function Dt(a,e,o,t,r,l){return p(),f("div",gt,[(p(),f("svg",yt,[(p(!0),f(_,null,H(t.sectors,(s,n)=>(p(),f("circle",{key:`circle-${n}`,r:"25%",cx:"50%",cy:"50%",stroke:s.color,"stroke-dasharray":`${t.round(s.percent,2)} 100`,"stroke-dashoffset":`${-t.round(s.offset,2)}`},null,8,_t))),128))])),d("div",bt,[(p(!0),f(_,null,H(t.sectors,(s,n)=>(p(),f(_,{key:`legend-${n}`},[d("div",{style:G({backgroundColor:s.color}),class:"pie-legend-color"},null,4),d("div",null,U(s.title),1),d("div",vt,U(t.round(100*s.value/t.totalValue,1))+"% ",1),d("div",Ct,[X(U(t.format(t.round(s.value,0))),1),kt])],64))),128))])])}var xt=V(mt,[["render",Dt]]);const wt={name:"Coin",props:{coin:{type:Object,required:!0}},methods:{onDragStart(a){h.dragging.value=!0,a.dataTransfer.setData("text",JSON.stringify(this.coin))},onDragEnd(){h.dragging.value=!1}}},$t={class:"ck-coin__icon-wrapper"},At=d("div",{class:"ck-coin__fill",style:{height:"100%"}},null,-1),It={class:"ck-coin__title"};function Vt(a,e,o,t,r,l){return p(),f("div",{class:Z([`ck-coin_${o.coin.type}`,"ck-coin"]),draggable:"true",onDragstart:e[0]||(e[0]=(...s)=>l.onDragStart&&l.onDragStart(...s)),onDragend:e[1]||(e[1]=(...s)=>l.onDragEnd&&l.onDragEnd(...s))},[d("div",$t,[At,d("div",{class:Z([`ck-coin__icon_${o.coin.icon.toLowerCase()}`,"ck-coin__icon"])},null,2)]),d("div",It,U(o.coin.title),1)],34)}var z=V(wt,[["render",Vt]]);const St={name:"CoinsAccounts",components:{Coin:z},setup(){return{accounts:k(()=>h.readonly.accounts)}}},Ht={class:"coins-source"},Lt=d("h2",null,"\u041A\u043E\u0448\u0435\u043B\u044C\u043A\u0438",-1),Mt={class:"coins-container"};function Et(a,e,o,t,r,l){const s=v("Coin");return p(),f("div",Ht,[Lt,d("div",Mt,[(p(!0),f(_,null,H(t.accounts,(n,u)=>(p(),F(s,{key:`inc-${u}`,coin:n},null,8,["coin"]))),128))])])}var ke=V(St,[["render",Et]]);const Ot={name:"Icon",props:{icon:{type:String,required:!0}}},Rt={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},zt=d("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"},null,-1),Nt=d("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"},null,-1),Ut=d("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"},null,-1),Bt=d("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"},null,-1),Tt={key:2,"fill-rule":"evenodd",d:"M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"},Ft={key:3,"fill-rule":"evenodd",d:"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"};function jt(a,e,o,t,r,l){return p(),f("svg",Rt,[o.icon==="edit"?(p(),f(_,{key:0},[zt,Nt],64)):$("",!0),o.icon==="remove"?(p(),f(_,{key:1},[Ut,Bt],64)):$("",!0),o.icon==="arrow-down"?(p(),f("path",Tt)):$("",!0),o.icon==="arrow-up"?(p(),f("path",Ft)):$("",!0)])}var Yt=V(Ot,[["render",jt]]);const Pt={name:"HeapOfCoins",components:{Icon:Yt,Coin:z},directives:{editor:{mounted(a){je(a.querySelector("a.show-editor"),{allowHTML:!0,content:a.querySelector("div"),hideOnClick:!0,interactive:!0,placement:"right-start",trigger:"click",onShown(e){e.popper.querySelector(".tippy-content input").focus()}})}}},props:{changeableColor:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},modelValue:{type:Object,default(){return{}}},movable:{type:Boolean,default:!1},removable:{type:Boolean,default:!1},renameable:{type:Boolean,default:!1},titleColor:{type:String,default:"black"}},emits:["update:modelValue","remove","moveUp","moveDown"],setup(a,{emit:e}){let o=h.dragging,t=h.palette,r=L(!1),l=k({get:()=>a.modelValue,set:g=>e("update:modelValue",g)}),s=k(()=>{var g,m;return((m=(g=a.modelValue)==null?void 0:g.color)==null?void 0:m.border)||t[0]}),n=k(()=>a.editable||a.renameable||a.removable||a.changeableColor);return{bgColor:s,palette:t,dragging:o,dragover:r,heap:l,showEditor:n,onDragEnter:()=>{r.value=!0},onDragLeave:()=>{r.value=!1},onDrop:g=>{g.preventDefault(),r.value=!1;let m=JSON.parse(g.dataTransfer.getData("text")),y=a.modelValue.coins.find(x=>x.id===m.id);(a.modelValue.type==="accounts"&&m.type==="account"||a.modelValue.type==="operations"&&["income","expense"].includes(m.type))&&!y&&a.modelValue.coins.push(m)},remove:g=>{let m=a.modelValue.coins.findIndex(y=>y.id===g);m!==-1&&a.modelValue.coins.splice(m,1)},setColor:g=>{a.modelValue.color.border=g}}}},qt={key:0},Kt={key:1},Jt={key:2},Gt={key:3},Xt={key:4},Zt={key:0},Qt={key:1,class:"palette-grid"},Wt=["onClick"],ea={key:2,style:{"margin-top":"1rem","text-align":"right"}},ta=X(" \u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043A\u0443\u0447\u0443 "),aa={class:"dropzone coins-container"};function oa(a,e,o,t,r,l){const s=v("Icon"),n=v("Coin"),u=Ye("editor");return p(),f("div",{class:"heap",style:G({borderColor:t.bgColor})},[d("div",{class:"heap-title",style:G({color:o.titleColor,backgroundColor:t.bgColor})},[d("h3",null,U(t.heap.title),1),o.movable?(p(),f("div",qt,[d("a",{href:"#",onClick:e[0]||(e[0]=j(c=>a.$emit("moveUp"),["prevent"]))},[C(s,{icon:"arrow-up"})])])):(p(),f("div",Kt)),o.movable?(p(),f("div",Jt,[d("a",{href:"#",onClick:e[1]||(e[1]=j(c=>a.$emit("moveDown"),["prevent"]))},[C(s,{icon:"arrow-down"})])])):(p(),f("div",Gt)),t.showEditor?le((p(),f("div",Xt,[d("a",{href:"#",class:"show-editor",onClick:e[2]||(e[2]=j(()=>{},["prevent"]))},[C(s,{icon:"edit"})]),d("div",null,[o.editable||o.renameable?(p(),f("div",Zt,[le(d("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=c=>t.heap.title=c)},null,512),[[Pe,t.heap.title]])])):$("",!0),o.editable||o.changeableColor?(p(),f("div",Qt,[(p(!0),f(_,null,H(t.palette,(c,i)=>(p(),f("div",{key:`c-${i}`,style:G({backgroundColor:c}),class:"palette-color",onClick:b=>t.setColor(c)},null,12,Wt))),128))])):$("",!0),o.editable||o.removable?(p(),f("div",ea,[d("button",{onClick:e[4]||(e[4]=c=>a.$emit("remove"))},[C(s,{icon:"remove"}),ta])])):$("",!0)])],512)),[[u]]):$("",!0)],4),d("div",aa,[le(d("div",{class:Z(["dz-cover",{dragover:t.dragover}]),onDragenter:e[5]||(e[5]=(...c)=>t.onDragEnter&&t.onDragEnter(...c)),onDragleave:e[6]||(e[6]=(...c)=>t.onDragLeave&&t.onDragLeave(...c)),onDragover:e[7]||(e[7]=c=>c.preventDefault()),onDrop:e[8]||(e[8]=(...c)=>t.onDrop&&t.onDrop(...c))},null,34),[[qe,t.dragging]]),(p(!0),f(_,null,H(t.heap.coins,c=>(p(),F(n,{key:`money-acc-${c.id}`,coin:c,onClick:i=>t.remove(c.id)},null,8,["coin","onClick"]))),128))])],4)}var Q=V(Pt,[["render",oa],["__scopeId","data-v-f9ace0e4"]]);const De="in",xe="out",ra="transfer",na={"01":"\u044F\u043D\u0432","02":"\u0444\u0435\u0432","03":"\u043C\u0430\u0440\u0442","04":"\u0430\u043F\u0440","05":"\u043C\u0430\u0439","06":"\u0438\u044E\u043D\u044C","07":"\u0438\u044E\u043B\u044C","08":"\u0430\u0432\u0433","09":"\u0441\u0435\u043D","10":"\u043E\u043A\u0442","11":"\u043D\u043E\u044F","12":"\u0434\u0435\u043A"},we=(a,e=2)=>a.toString().padStart(e,"0"),ce=(a,e=!1)=>{let o=a.getFullYear();return e?o:o.toString()},de=(a,e=!1)=>{let o=a.getMonth()+1;return e?o:we(o)},ue=a=>`${ce(a)}-${de(a)}`,q=(a,e)=>{let o=[],t=ce(a,!0),r=de(a,!0),l=ce(e,!0),s=de(e,!0);for(let n=t;n<=l;n++){let u=n===t?r:1,c=n===l?s:12;for(let i=u;i<=c;i++)o.push(`${n}-${we(i)}`)}return o},K=(a,e=na)=>a.map((o,t)=>{let[r,l]=o.split("-");return l==="01"||t===0?`${e[l]}
${r}`:e[l]}),W=(a,e)=>{let o={};for(let t of e)if(a.includes(t.source)||a.includes(t.destination)){let r=ue(t.date.date);typeof o[r]=="undefined"&&(o[r]=0),t.direction===De&&(o[r]+=t.value),t.direction===xe&&(o[r]-=t.value)}return o},$e=(a,e)=>{let o=a.value,t=q(e[0].date.date,e[e.length-1].date.date),r=t.length,l="";for(let s=e.length-1;s>=0;s--){let n=e[s];if(ue(n.date.date)!==l)for(;r>0&&ue(n.date.date)!==l;)r--,l=t[r],t[r]=[t[r],o];if(n.source===a.title&&(o+=n.currency===a.currency?n.value:n.value2),n.destination===a.title&&(o-=n.currency===a.currency?n.value:n.value2),Number.isNaN(o)){console.error("accountHistoryByMonths: value is NaN",{op:n,account:a}),console.log(n);break}}return Object.fromEntries(t)},la={name:"AnalyzeAccounts",components:{ChartPie:xt,Coin:z,CoinsAccounts:ke,HeapOfCoins:Q,BarChart:Y.BarChart},setup(){var g;let a=k(()=>h.state.heaps.accounts),e=k(()=>a.value.map(m=>({title:m.title,color:m.color.border,value:m.coins.reduce((y,w)=>{let x=w.currency===h.state.baseCurrency?1:P.rate(w.currency);return y+=w.value/x,y},0)}))),o={responsive:!0,aspectRatio:3,layout:{padding:{right:20}},elements:{bar:{}},scales:{x:{id:"x-axis",type:"category",grid:{borderDash:[1,3],color:"rgba(128,128,128,0.4)",borderColor:"rgba(128,128,128,0.5)",tickColor:"rgba(128,128,128,0.5)",tickLength:5},ticks:{maxRotation:0,padding:5,autoSkip:!1}},y:{stacked:!0,type:"linear",min:0,grid:{borderDash:[1,2],color:"rgba(128,128,128,0.2)",borderColor:"rgba(128,128,128,0.5)",tickColor:"rgba(128,128,128,0.5)"},ticks:{callback(m){return I(m)}},afterFit(m){m.width=50}}}},t=q(h.readonly.operations[0].date.date,h.readonly.operations[h.readonly.operations.length-1].date.date),r={};for(let m of a.value)for(let y of m.coins){let w=$e(y,h.readonly.operations);if(y.currency!==h.state.baseCurrency)for(let[x,E]of Object.entries(w)){let D=P.rate(y.currency,x);w[x]=Math.round(E/D)}for(let[x,E]of Object.entries(w))(g=r[x])!=null||(r[x]=0),r[x]+=E}console.log({totals:r});let l=t.map(()=>null),s=t.map(m=>r[m]),n=k(()=>({xLabels:K(t),datasets:a.value.map(m=>{var x,E;let y=m.coins.map(D=>{let A=$e(D,h.readonly.operations);if(D.currency!==h.state.baseCurrency)for(let[N,te]of Object.entries(A)){let ae=P.rate(D.currency,N);A[N]=Math.round(te/ae)}return A}),w=11;return{label:m.title,data:t.map(D=>y.reduce((A,N)=>(A+=N[D],A),0)),grouped:!1,borderColor:m.color.border,backgroundColor:B((x=m.color)==null?void 0:x.border,.3),datalabels:{display(D){let A=D.chart.scales.y.max/D.chart.scales.y.maxHeight*(w+4);return D.dataset.data[D.dataIndex]>A},color:(E=m.color)==null?void 0:E.border,anchor:"center",labels:{value:{align:"end",offset:-5,font:{size:w,weight:"bold"},formatter(D,A){return I(D)}},percent:{align:"start",offset:-4,font:{size:9,weight:"normal"},formatter(D,A){return`${Math.round(100*D/s[A.dataIndex])}%`}}}}}}).concat([{label:"",data:l,grouped:!1,skipNulls:!0,borderColor:"transparent",backgroundColor:"transparent",datalabels:{display:!0,color:"#777",backgroundColor:"transparent",borderRadius:3,padding:{top:1,bottom:0,left:3,right:3},anchor:"end",align:"end",offset(m){return m.chart.chartArea.height-15},font:{size:10,weight:"bold"},formatter(m,y){return I(s[y.dataIndex])}}}])})),u=L();return{heapsAccount:a,pieChartData:e,chartRef:u,chartOptions:o,chartData:n,addHeap:()=>{h.state.heaps.accounts.push({type:"accounts",title:"\u041A\u0443\u0447\u0430",color:{},coins:[]})},moveHeapUp:m=>{if(m>0){let[y]=h.state.heaps.accounts.splice(m,1);h.state.heaps.accounts.splice(m-1,0,ne(y))}},moveHeapDown:m=>{if(m<h.state.heaps.accounts.length-1){let[y]=h.state.heaps.accounts.splice(m,1);h.state.heaps.accounts.splice(m+1,0,ne(y))}},removeHeap:m=>{h.state.heaps.accounts.splice(m,1)}}}},sa=d("h2",null,"\u0410\u043D\u0430\u043B\u0438\u0437 \u043D\u0430\u043B\u0438\u0447\u043D\u043E\u0441\u0442\u0438",-1),ia={class:"analyze"};function ca(a,e,o,t,r,l){const s=v("HeapOfCoins"),n=v("BarChart"),u=v("ChartPie");return p(),f(_,null,[sa,d("div",ia,[d("div",null,[(p(!0),f(_,null,H(t.heapsAccount,(c,i)=>(p(),f("div",{key:`h-ex-${i}`},[C(s,{modelValue:t.heapsAccount[i],"onUpdate:modelValue":b=>t.heapsAccount[i]=b,editable:"",movable:"",onMoveUp:b=>t.moveHeapUp(i),onMoveDown:b=>t.moveHeapDown(i),onRemove:b=>t.removeHeap(i)},null,8,["modelValue","onUpdate:modelValue","onMoveUp","onMoveDown","onRemove"])]))),128)),d("button",{onClick:e[0]||(e[0]=(...c)=>t.addHeap&&t.addHeap(...c))}," \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u0443\u0447\u0443 ")]),d("div",null,[C(n,{ref:"chartRef","chart-data":t.chartData,options:t.chartOptions},null,8,["chart-data","options"]),C(u,{data:t.pieChartData},null,8,["data"])])])],64)}var da=V(la,[["render",ca]]);const pe=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"rgba(0, 0, 0, 0.4)":"rgba(255, 255, 255, 0.6)",ua={name:"AnalyzeExpenses",components:{HeapOfCoins:Q,Coin:z,LineChart:Y.LineChart},setup(){let a=k(()=>h.state.heaps.expenses),e={responsive:!0,aspectRatio:3,layout:{padding:{right:20}},elements:{line:{tension:.2,fill:!0}},scales:{x:{id:"x-axis",type:"category",grid:{borderDash:[1,3],color:"rgba(128,128,128,0.4)",borderColor:"rgba(128,128,128,0.5)",tickColor:"rgba(128,128,128,0.5)",tickLength:5},ticks:{maxRotation:0,padding:5,autoSkip:!1}},y:{type:"linear",min:0,grid:{borderDash:[1,2],color:"rgba(128,128,128,0.2)",borderColor:"rgba(128,128,128,0.5)",tickColor:"rgba(128,128,128,0.5)"},ticks:{callback(n){return I(n)}},afterFit(n){n.width=50}}}},o=q(h.readonly.operations[0].date.date,h.readonly.operations[h.readonly.operations.length-1].date.date),t=k(()=>({xLabels:K(o),datasets:a.value.map(n=>{let u=n.coins.map(i=>i.title),c=W(u,h.readonly.operations);return{label:n.title,data:o.map(i=>Math.abs(c[i])),borderColor:n.color.border,backgroundColor:B(n.color.border,.2),datalabels:{display:"auto",color:n.color.border,backgroundColor:pe(),borderRadius:3,padding:{top:1,bottom:0,left:3,right:3},align:"end",font:{size:11,weight:"bold"},formatter(i){return I(i)}}}})}));return{chartRef:L(),heapsExpenses:a,chartOptions:e,chartData:t,addHeap:()=>{h.state.heaps.expenses.push({type:"operations",title:"\u041A\u0443\u0447\u0430",color:{},coins:[]})},removeHeap:n=>{h.state.heaps.expenses.splice(n,1)}}}},pa=d("h2",null,"\u0410\u043D\u0430\u043B\u0438\u0437 \u0440\u0430\u0441\u0445\u043E\u0434\u043E\u0432",-1),ha={class:"analyze"};function fa(a,e,o,t,r,l){const s=v("HeapOfCoins"),n=v("LineChart");return p(),f(_,null,[pa,d("div",ha,[d("div",null,[(p(!0),f(_,null,H(t.heapsExpenses,(u,c)=>(p(),f("div",{key:`h-ex-${c}`},[C(s,{modelValue:t.heapsExpenses[c],"onUpdate:modelValue":i=>t.heapsExpenses[c]=i,editable:"",onRemove:i=>t.removeHeap(c)},null,8,["modelValue","onUpdate:modelValue","onRemove"])]))),128)),d("button",{onClick:e[0]||(e[0]=(...u)=>t.addHeap&&t.addHeap(...u))}," \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u0443\u0447\u0443 ")]),C(n,{ref:"chartRef","chart-data":t.chartData,options:t.chartOptions},null,8,["chart-data","options"])])],64)}var ma=V(ua,[["render",fa]]);const ga={name:"AnalyzeIncomes",components:{HeapOfCoins:Q,Coin:z,LineChart:Y.LineChart},setup(){let a=k(()=>h.state.heaps.incomes),e={responsive:!0,aspectRatio:3,layout:{padding:{right:20}},elements:{line:{tension:.2,fill:!0}},scales:{x:{id:"x-axis",type:"category",grid:{borderDash:[1,3],color:"rgba(128,128,128,0.4)",borderColor:"rgba(128,128,128,0.5)",tickColor:"rgba(128,128,128,0.5)",tickLength:5},ticks:{maxRotation:0,padding:5,autoSkip:!1}},y:{type:"linear",grid:{borderDash:[1,2],color:"rgba(128,128,128,0.2)",borderColor:"rgba(128,128,128,0.5)",tickColor:"rgba(128,128,128,0.5)"},ticks:{callback(n){return I(n)}},afterFit(n){n.width=50}}}},o=q(h.readonly.operations[0].date.date,h.readonly.operations[h.readonly.operations.length-1].date.date),t=k(()=>({xLabels:K(o),datasets:a.value.map(n=>{let u=n.coins.map(i=>i.title),c=W(u,h.readonly.operations);return{label:n.title,data:o.map(i=>c[i]),borderColor:n.color.border,backgroundColor:B(n.color.border,.2),datalabels:{display:"auto",color:n.color.border,backgroundColor:pe(),borderRadius:3,padding:{top:1,bottom:0,left:3,right:3},align:"end",font:{size:11,weight:"bold"},formatter(i){return I(i)}}}})}));return{chartRef:L(),heapsIncomes:a,chartOptions:e,chartData:t,addHeap:()=>{h.state.heaps.incomes.push({type:"operations",title:"\u041A\u0443\u0447\u0430",color:{},coins:[]})},removeHeap:n=>{console.log("removeHeap",n),h.state.heaps.incomes.splice(n,1)}}}},ya=d("h2",null,"\u0410\u043D\u0430\u043B\u0438\u0437 \u0434\u043E\u0445\u043E\u0434\u043E\u0432",-1),_a={class:"analyze"};function ba(a,e,o,t,r,l){const s=v("HeapOfCoins"),n=v("LineChart");return p(),f(_,null,[ya,d("div",_a,[d("div",null,[(p(!0),f(_,null,H(t.heapsIncomes,(u,c)=>(p(),f("div",{key:`h-in-${c}`},[C(s,{modelValue:t.heapsIncomes[c],"onUpdate:modelValue":i=>t.heapsIncomes[c]=i,editable:"",onRemove:i=>t.removeHeap(c)},null,8,["modelValue","onUpdate:modelValue","onRemove"])]))),128)),d("button",{onClick:e[0]||(e[0]=(...u)=>t.addHeap&&t.addHeap(...u))}," \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u0443\u0447\u0443 ")]),C(n,{ref:"chartRef","chart-data":t.chartData,options:t.chartOptions},null,8,["chart-data","options"])])],64)}var va=V(ga,[["render",ba]]);const Ca={name:"AnalyzeIncomesVsExpenses",components:{HeapOfCoins:Q,Coin:z,LineChart:Y.LineChart,BarChart:Y.BarChart},setup(){let a=k(()=>h.state.heaps.allIncomesVsExpenses),e={responsive:!0,aspectRatio:3,layout:{padding:{right:20}},elements:{line:{tension:.2,fill:!0}},scales:{x:{id:"x-axis",type:"category",grid:{borderDash:[1,3],color:"rgba(128,128,128,0.4)",borderColor:"rgba(128,128,128,0.5)",tickColor:"rgba(128,128,128,0.5)",tickLength:5},ticks:{maxRotation:0,padding:5,autoSkip:!1}},y:{type:"linear",min:0,grid:{borderDash:[1,2],color:"rgba(128,128,128,0.2)",borderColor:"rgba(128,128,128,0.5)",tickColor:"rgba(128,128,128,0.5)"},ticks:{callback(i){return I(i)}},afterFit(i){i.width=50}}}},o=q(h.readonly.operations[0].date.date,h.readonly.operations[h.readonly.operations.length-1].date.date);console.log({monthAxis:o});let t=k(()=>({xLabels:K(o),datasets:a.value.map(i=>{let b=i.coins.map(g=>g.title),S=W(b,h.readonly.operations);return{label:i.title,data:o.map(g=>Math.abs(S[g])),borderColor:i.color.border,backgroundColor:B(i.color.border,.2),datalabels:{display:"auto",color:i.color.border,backgroundColor:pe(),borderRadius:3,padding:{top:1,bottom:0,left:3,right:3},align:"end",font:{size:11,weight:"bold"},formatter(g){return I(g)}}}})}));console.log("income vs expenses chartData",t);let r={responsive:!0,aspectRatio:7,layout:{padding:{right:20}},scales:{x:{id:"x-axis",type:"category",grid:{borderDash:[1,3],color:"rgba(128,128,128,0.4)",borderColor:"rgba(128,128,128,0.5)",tickColor:"rgba(128,128,128,0.5)",tickLength:5},ticks:{maxRotation:0,padding:5,autoSkip:!1}},y:{stacked:!0,type:"linear",grid:{borderDash:[1,2],color:"rgba(128,128,128,0.2)",borderColor:"rgba(128,128,128,0.5)",tickColor:"rgba(128,128,128,0.5)"},ticks:{callback(i){return I(i)}},afterFit(i){i.width=50}}},plugins:{legend:{display:!1}}},l=[...h.readonly.incomes.map(i=>i.title),...h.readonly.expenses.map(i=>i.title)],s=W(l,h.readonly.operations);console.log({balanceData:s});let n=k(()=>({xLabels:K(o),datasets:[{label:"\u0414\u043E\u0445\u043E\u0434",data:o.map(i=>s[i]>=0?s[i]:0),grouped:!1,borderColor:"#34c759",backgroundColor:B("#34c759",.2),datalabels:{display(i){return i.dataset.data[i.dataIndex]!==0},color:"#34c759",borderRadius:3,padding:{top:1,bottom:0,left:3,right:3},anchor:"start",align:"start",font:{size:11,weight:"bold"},formatter(i){return I(i)}}},{label:"\u0423\u0431\u044B\u0442\u043E\u043A",data:o.map(i=>s[i]<0?s[i]:0),grouped:!1,borderColor:"#ff3b30",backgroundColor:B("#ff3b30",.2),datalabels:{display(i){return i.dataset.data[i.dataIndex]!==0},color:"#ff3b30",borderRadius:3,padding:{top:1,bottom:0,left:3,right:3},anchor:"end",align:"end",font:{size:11,weight:"bold"},formatter(i){return I(i)}}}]})),u=L(),c=L();return{chartRef:u,heaps:a,chartOptions:e,chartData:t,barChartRef:c,barChartOptions:r,barChartData:n}}},ka=d("h2",null,"\u0410\u043D\u0430\u043B\u0438\u0437 \u0434\u043E\u0445\u043E\u0434\u043E\u0432 \u0438 \u0440\u0430\u0441\u0445\u043E\u0434\u043E\u0432",-1),Da={class:"analyze"};function xa(a,e,o,t,r,l){const s=v("HeapOfCoins"),n=v("LineChart"),u=v("BarChart");return p(),f(_,null,[ka,d("div",Da,[d("div",null,[(p(!0),f(_,null,H(t.heaps,(c,i)=>(p(),f("div",{key:`h-in-ex-${i}`},[C(s,{modelValue:t.heaps[i],"onUpdate:modelValue":b=>t.heaps[i]=b,"changeable-color":""},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),d("div",null,[C(n,{ref:"chartRef","chart-data":t.chartData,options:t.chartOptions},null,8,["chart-data","options"]),C(u,{ref:"barChartRef","chart-data":t.barChartData,options:t.barChartOptions},null,8,["chart-data","options"])])])],64)}var wa=V(Ca,[["render",xa]]);const $a={name:"CoinsOperations",components:{Coin:z},setup(){let a=k(()=>h.readonly.incomes),e=k(()=>h.readonly.expenses);return{incomes:a,expenses:e}}},Aa={class:"coins-source"},Ia=d("h2",null,"\u041E\u043F\u0435\u0440\u0430\u0446\u0438\u0438",-1),Va={class:"coins-container"},Sa={class:"coins-container"};function Ha(a,e,o,t,r,l){const s=v("Coin");return p(),f("div",Aa,[Ia,d("div",Va,[(p(!0),f(_,null,H(t.incomes,(n,u)=>(p(),F(s,{key:`inc-${u}`,coin:n},null,8,["coin"]))),128))]),d("div",Sa,[(p(!0),f(_,null,H(t.expenses,(n,u)=>(p(),F(s,{key:`inc-${u}`,coin:n},null,8,["coin"]))),128))])])}var La=V($a,[["render",Ha]]);const Ma=new Ke;let Ae;const he=a=>Array.from(a.matchAll(/"([^"]*)"/g),e=>e[1]),fe=a=>Number(a.replace(",",".")),Ea=a=>{if(!a)return null;let e,o,t;return/^\d+\.\d+\.\d+$/.test(a)?[o,e,t]=a.split("."):[e,o,t]=a.split("/"),{year:Number(t),month:Number(e)-1,day:Number(o),date:new Date(Number(t),Number(e)-1,Number(o),3)}},Oa=a=>Ma.transform(a,"_").toLowerCase(),Ra={\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435:{name:"title",number:!1},\u0411\u044E\u0434\u0436\u0435\u0442:{name:"budget",number:!0},\u041F\u043E\u043B\u0443\u0447\u0435\u043D\u043E:{name:"total",number:!0},\u0418\u043A\u043E\u043D\u043A\u0430:{name:"icon",number:!1},\u0412\u0430\u043B\u044E\u0442\u0430:{name:"currency",number:!1},"\u0422\u0435\u043A\u0443\u0449\u0435\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435":{name:"value",number:!0}},ee=(a,e,o)=>{let t=he(a.shift()).map(l=>Ra[l]),r=[];for(let l of a){let s={type:o};for(let[n,u]of he(l).entries())s[t[n].name]=t[n].number?fe(u):u;s.id=Oa(s.title),r.push(s)}return r},za=a=>{var g;Ae=a;let[e,o,t,r,l]=Ae.split(`


`);e=e.split(`
`);let s=(g=e==null?void 0:e.shift())==null?void 0:g.split("=")[1];if(!s)return console.error("Separator of values not found"),!1;let n;o&&(o=o.split(`
`),n=ee(o,s,"income"));let u;t&&(t=t.split(`
`),u=ee(t,s,"account"));let c;r&&(r=r.split(`
`),c=ee(r,s,"expense"));let i;l&&(l=l.split(`
`),i=ee(l,s,"tag"));const b=(m,y)=>m==="\u0420\u0430\u0441\u0445\u043E\u0434"?xe:(n==null?void 0:n.find(w=>w.title===y))?De:ra;e.shift();let S=[];for(let m of e){if(!m)break;let[y,w,x,E,D,A,N,te,ae,ao,Se]=he(m);S.push({date:Ea(y),direction:b(w,x),source:x,destination:E,value:fe(A),value2:fe(te),currency:N,currency2:ae,tags:D,comment:Se})}return{incomes:n,accounts:u,expenses:c,tags:i,operations:S}};const Ie=1024**2,Na={name:"UploadFile",data(){return{dragover:!1}},emits:["import"],setup(){},methods:{onDrop(a){this.dragover=!1;let e=a.dataTransfer?a.dataTransfer.files[0]:a.target.files[0];if(e.type!=="text/csv"){alert("\u0413\u043E\u0434\u044F\u0442\u0441\u044F \u0442\u043E\u043B\u044C\u043A\u043E CSV-\u0444\u0430\u0439\u043B\u044B");return}if(e.size>Ie){alert(`\u0424\u0430\u0439\u043B \u0432\u0435\u043B\u0438\u043A\u043E\u0432\u0430\u0442 \u2014 ${e.size} \u0431\u0430\u0439\u0442,
\u0430 \u043C\u043E\u0436\u043D\u043E \u043C\u0430\u043A\u0441\u0438\u043C\u0443\u043C ${Ie} \u0431\u0430\u0439\u0442`);return}let o=new FileReader;o.onload=()=>{let t=za(o.result);this.$emit("import",{timestamp:e.lastModified,data:t})},o.readAsText(e)},openChooseFile(){this.$refs.fileInput.click()}}},Ve=a=>(Je("data-v-393cb3f6"),a=a(),Ge(),a),Ua=Ve(()=>d("p",null,[X(" \u0418\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0438\u044F \u043F\u043E \u044D\u043A\u0441\u043F\u043E\u0440\u0442\u0443 \u0434\u0430\u043D\u043D\u044B\u0445: "),d("a",{href:"https://ruhelp.coinkeeper.me/4e4288b6e3ad4b349aab0e7b55d12d99",target:"_blank"}," ruhelp.coinkeeper.me/4e4288b6e3ad4b349aab0e7b55d12d99 ")],-1)),Ba=Ve(()=>d("p",null,"\u0421\u044E\u0434\u0430 \u043D\u0430\u0434\u043E \u0431\u0440\u043E\u0441\u0438\u0442\u044C csv-\u0444\u0430\u0439\u043B, \u044D\u0441\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u0438\u0437 CoinKeeper'\u0430.",-1));function Ta(a,e,o,t,r,l){return p(),f(_,null,[Ua,d("div",{class:Z(["dropzone",{dragover:r.dragover}]),onDragover:e[1]||(e[1]=j(s=>r.dragover=!0,["prevent"])),onDragleave:e[2]||(e[2]=s=>r.dragover=!1),onDrop:e[3]||(e[3]=j((...s)=>l.onDrop&&l.onDrop(...s),["stop","prevent"])),onClick:e[4]||(e[4]=(...s)=>l.openChooseFile&&l.openChooseFile(...s))},[Ba,d("input",{ref:"fileInput",name:"csv",type:"file",onChange:e[0]||(e[0]=(...s)=>l.onDrop&&l.onDrop(...s))},null,544)],34)],64)}var Fa=V(Na,[["render",Ta],["__scopeId","data-v-393cb3f6"]]);const ja={id:"labels-split",beforeInit(a){var e;(e=a.data.xLabels)==null||e.forEach((o,t,r)=>{/\n/.test(o)&&(r[t]=o.split(/\n/))})}};Xe.register(Ze,Qe,We,et,tt,at,ot,rt,nt,lt,st,ja);const Ya={name:"App",components:{AnalyzeAccounts:da,AnalyzeExpenses:ma,AnalyzeIncomes:va,AnalyzeIncomesVsExpenses:wa,CoinsAccounts:ke,CoinsOperations:La,UploadFile:Fa},setup(){let a=L(!1),e=k(()=>h.readonly.timestamp?ct(new Date(h.readonly.timestamp),{addSuffix:!0,locale:dt}):""),o=L(!1);return it(async()=>{await h.init(),await P.init("RUB",["USD","EUR"]),o.value=P.loaded,a.value=!0}),{appInitialized:a,dataExportedAgo:e,currenciesLoaded:o,hasData:h.hasData}},methods:{async clearData(){await h.clearReadonly()},reset(){return confirm(`\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u0441\u044E \u0438\u043D\u0444\u0443 \u0438 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438?
\u0411\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u044B \u0432\u0441\u0435 \u0434\u0430\u043D\u043D\u044B\u0435, \u043A\u0443\u0447\u0438 \u0438 \u0438\u0445 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0446\u0432\u0435\u0442\u0430, \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u044F \u043F\u0440\u043E\u0447\u0435\u0435.`)},async onDataImport(a){console.log(a),await h.setReadonly(a)}}},Pa={key:0},qa=d("h1",null,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430 \u0438\u0437 Coin Keeper",-1),Ka=X(" \xA0 "),Ja={class:"section"},Ga=d("hr",null,null,-1),Xa=d("hr",null,null,-1),Za=d("hr",null,null,-1),Qa={class:"section"},Wa=d("footer",null,[d("p",null," \u0412\u0441\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0445\u0440\u0430\u043D\u044F\u0442\u0441\u044F \u0442\u043E\u043B\u044C\u043A\u043E \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435 \u0438 \u043D\u0438\u043A\u0443\u0434\u0430 \u043D\u0435 \u043F\u0435\u0440\u0435\u0434\u0430\u044E\u0442\u0441\u044F. \u0421\u0430\u0439\u0442 \u0442\u043E\u043B\u044C\u043A\u043E \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044F \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0438 \u0431\u043E\u043B\u044C\u0448\u0435 \u0441 \u043D\u0438\u043C \u043D\u0435 \u0432\u0437\u0430\u0438\u043C\u043E\u0434\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442. ")],-1);function eo(a,e,o,t,r,l){const s=v("UploadFile"),n=v("CoinsOperations"),u=v("AnalyzeIncomesVsExpenses"),c=v("AnalyzeIncomes"),i=v("AnalyzeExpenses"),b=v("CoinsAccounts"),S=v("AnalyzeAccounts");return p(),f(_,null,[d("header",null,[d("div",null,[t.hasData?(p(),f("div",Pa," \u0414\u0430\u043D\u043D\u044B\u0435 \u044D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u044B "+U(t.dataExportedAgo),1)):$("",!0)]),qa,d("div",null,[t.hasData?(p(),f("button",{key:0,onClick:e[0]||(e[0]=(...g)=>l.clearData&&l.clearData(...g))}," \u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u0442\u043E\u043B\u044C\u043A\u043E \u0434\u0430\u043D\u043D\u044B\u0435 ")):$("",!0),Ka,t.hasData?(p(),f("button",{key:1,onClick:e[1]||(e[1]=(...g)=>l.reset&&l.reset(...g))}," \u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u0441\u0451 ")):$("",!0)])]),d("main",null,[t.appInitialized?(p(),f(_,{key:0},[t.hasData?$("",!0):(p(),F(s,{key:0,onImport:l.onDataImport},null,8,["onImport"])),t.hasData?(p(),f(_,{key:1},[d("div",Ja,[C(n),d("div",null,[C(u),Ga,C(c),Xa,C(i)])]),Za,d("div",Qa,[C(b),d("div",null,[C(S)])])],64)):$("",!0)],64)):$("",!0)]),Wa],64)}var to=V(Ya,[["render",eo]]);ut(to).mount("#app");
